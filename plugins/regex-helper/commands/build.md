# build - 対話型正規表現ビルダー

ユーザーと対話しながら正規表現を構築するコマンドです。

## 実行時の動作

このコマンドが実行されたら、以下の対話フローに従ってユーザーをガイドしてください。

### ステップ1: 作成方法の選択

まず、以下の選択肢を提示してください：

```
どのように正規表現を作成しますか？

1. 質問に答えながら作る（対話型）
2. サンプル文字列から作る
3. やりたいことを説明する（自然言語）
```

### ステップ2: 各モードでの対話

#### モード1: 対話型

段階的に質問を重ねて正規表現を構築します。

質問例:
- 「何を検証・抽出したいですか？」（メールアドレス、電話番号、パスワード、URL、日付、カスタム等）
- 具体的な条件を1つずつ確認（文字種、文字数、必須要素など）
- 選択肢形式で提示し、ユーザーの負担を減らす

#### モード2: サンプル文字列から

1. サンプル文字列の入力を求める
2. 抽出したい部分を指定してもらう
3. 複数のサンプルがあれば追加で入力してもらう（精度向上）
4. マッチさせたくない例があれば聞く
5. パターンを分析して正規表現を生成

#### モード3: 自然言語

1. やりたいことを自由に説明してもらう
2. 説明から要件を抽出
3. 不明点があれば確認の質問をする
4. 正規表現を生成

### ステップ3: 結果の提示

生成した正規表現を以下の形式で提示:

```
生成した正規表現:
/pattern/flags

構造の説明:
- 各部分の意味を簡潔に説明

テストしますか？ [Y/n]
```

### ステップ4: テスト（希望時）

テスト文字列を入力してもらい、結果を表示:

- マッチした場合: `✓ マッチしました` + マッチ箇所
- マッチしなかった場合: `✗ マッチしません` + 簡単な理由

繰り返しテストできるようにする。

### ステップ5: 最終出力

最終的に以下を出力:

```
最終結果:

正規表現: /pattern/flags

用途: （何のための正規表現か）

コード例:
// JavaScript
const regex = /pattern/flags;
regex.test("string"); // true/false
```

## 対話のポイント

- 専門用語を避け、わかりやすい言葉で説明する
- 一度に多くの質問をせず、1つずつ確認する
- 選択肢を提示して回答しやすくする
- マッチしない場合は理由を説明する
- 最後にコード例を添える
